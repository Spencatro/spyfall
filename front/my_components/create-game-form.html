<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/core-ajax/core-ajax.html">
<polymer-element name="create-game-form">
  <template>
    <h1>
        Create a game!
    </h1>
    <paper-input-decorator floatingLabel="True" label="Your name"><input value="{{nameValue}}" id="your-name" /></paper-input-decorator>
    <paper-input-decorator floatingLabel="True" label="Gameroom name"><input value="{{gameroomNameValue}}" id="gameroom-name" /></paper-input-decorator>
    <paper-input-decorator floatingLabel="True" label="Gameroom passcode (optional)"><input value="{{gameroomPasscodeValue}}" id="gameroom-passcode" /></paper-input-decorator>
    <paper-button on-click="{{clicked}}" disabled?="{{isDisabled}}" id="go-button" raised>{{innerContent}}</paper-button>
  </template>
  <script>
  Polymer({
    innerContent:"Let's gooooo!",
    isDisabled: false,
    clicked: function(e) {
      poly = this;
      poly.isDisabled = true;
      poly.innerContent = "Creating your game...";
      $.getJSON('http://spyfall-backend.spencer-hawkins.com/new_game/'+poly.gameroomNameValue+'/'+poly.nameValue+'/',function(r){
        console.log(r);
      });
    }
  });
  </script>
</polymer-element>